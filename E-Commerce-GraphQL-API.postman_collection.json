{
	"info": {
		"_postman_id": "e-commerce-graphql-api",
		"name": "E-Commerce GraphQL API",
		"description": "GraphQL API collection for E-Commerce platform with authentication, product management, and checkout features.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "mutation Register($input: RegisterInput!) {\n  register(input: $input) {\n    access_token\n    token_type\n    expires_in\n    user {\n      id\n      name\n      email\n    }\n  }\n}",
								"variables": "{\n  \"input\": {\n    \"name\": \"John Doe\",\n    \"email\": \"john@example.com\",\n    \"password\": \"password123\",\n    \"password_confirmation\": \"password123\"\n  }\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const response = pm.response.json();",
									"if (response.data && response.data.login) {",
									"    pm.collectionVariables.set('access_token', response.data.login.access_token);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "mutation Login($input: LoginInput!) {\n  login(input: $input) {\n    access_token\n    token_type\n    expires_in\n    user {\n      id\n      name\n      email\n    }\n  }\n}",
								"variables": "{\n  \"input\": {\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\"\n  }\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				},
				{
					"name": "Me (Current User)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query Me {\n  me {\n    id\n    name\n    email\n    created_at\n  }\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				}
			]
		},
		{
			"name": "Products",
			"item": [
				{
					"name": "List Products",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query ListProducts($first: Int!, $page: Int) {\n  products(first: $first, page: $page) {\n    data {\n      id\n      name\n      description\n      sku\n      price\n      stock_quantity\n      brand\n      is_active\n    }\n    paginatorInfo {\n      total\n      currentPage\n      lastPage\n      perPage\n    }\n  }\n}",
								"variables": "{\n  \"first\": 10,\n  \"page\": 1\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				},
				{
					"name": "Get Product by ID",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query GetProduct($id: ID!) {\n  product(id: $id) {\n    id\n    name\n    description\n    sku\n    price\n    stock_quantity\n    brand\n    image_url\n    is_active\n    created_at\n    updated_at\n  }\n}",
								"variables": "{\n  \"id\": \"1\"\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				},
				{
					"name": "Search Products (Elasticsearch)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query SearchProducts($query: String!, $brand: String, $minPrice: Float, $maxPrice: Float, $inStock: Boolean, $page: Int, $limit: Int) {\n  searchProducts(\n    query: $query\n    brand: $brand\n    minPrice: $minPrice\n    maxPrice: $maxPrice\n    inStock: $inStock\n    page: $page\n    limit: $limit\n  ) {\n    data {\n      id\n      name\n      price\n      stock_quantity\n      brand\n    }\n    total\n    page\n    limit\n  }\n}",
								"variables": "{\n  \"query\": \"iPhone\",\n  \"inStock\": true,\n  \"page\": 1,\n  \"limit\": 20\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				}
			]
		},
		{
			"name": "Addresses",
			"item": [
				{
					"name": "My Addresses",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query MyAddresses {\n  myAddresses {\n    id\n    title\n    full_name\n    phone\n    address_line_1\n    address_line_2\n    city\n    state\n    postal_code\n    country\n    is_default\n  }\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				},
				{
					"name": "Create Address",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "mutation CreateAddress($input: CreateAddressInput!) {\n  createAddress(input: $input) {\n    id\n    title\n    full_name\n    phone\n    address_line_1\n    city\n    postal_code\n    country\n    is_default\n  }\n}",
								"variables": "{\n  \"input\": {\n    \"title\": \"Ev\",\n    \"full_name\": \"John Doe\",\n    \"phone\": \"+90 555 123 4567\",\n    \"address_line_1\": \"Atatürk Cad. No:123\",\n    \"city\": \"Istanbul\",\n    \"postal_code\": \"34000\",\n    \"country\": \"Turkey\",\n    \"is_default\": true\n  }\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				}
			]
		},
		{
			"name": "Orders",
			"item": [
				{
					"name": "Buy Now",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "mutation BuyNow($input: BuyNowInput!) {\n  buyNow(input: $input) {\n    id\n    order_number\n    status\n    subtotal\n    tax\n    total\n    notes\n    items {\n      id\n      product_name\n      quantity\n      price\n      subtotal\n    }\n    address {\n      id\n      title\n      full_name\n    }\n  }\n}",
								"variables": "{\n  \"input\": {\n    \"product_id\": 1,\n    \"quantity\": 1,\n    \"address_id\": 1,\n    \"notes\": \"Lütfen kapıya bırakın\"\n  }\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				},
				{
					"name": "My Orders",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query MyOrders {\n  myOrders {\n    id\n    order_number\n    status\n    subtotal\n    tax\n    total\n    items {\n      product_name\n      quantity\n      price\n    }\n    payment {\n      id\n      status\n      transaction_id\n    }\n    created_at\n  }\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				},
				{
					"name": "Get Order by Number",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "query GetOrderByNumber($orderNumber: String!) {\n  orderByNumber(orderNumber: $orderNumber) {\n    id\n    order_number\n    status\n    subtotal\n    tax\n    total\n    notes\n    items {\n      product_name\n      quantity\n      price\n      subtotal\n    }\n    address {\n      full_name\n      phone\n      address_line_1\n      city\n    }\n    payment {\n      status\n      transaction_id\n      paid_at\n    }\n  }\n}",
								"variables": "{\n  \"orderNumber\": \"ORD-6931CF9D80FEA\"\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				},
				{
					"name": "Cancel Order",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "mutation CancelOrder($orderId: ID!) {\n  cancelOrder(orderId: $orderId) {\n    id\n    order_number\n    status\n  }\n}",
								"variables": "{\n  \"orderId\": \"1\"\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Process Payment",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{access_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "graphql",
							"graphql": {
								"query": "mutation ProcessPayment($input: ProcessPaymentInput!) {\n  processPayment(input: $input) {\n    id\n    transaction_id\n    status\n    amount\n    paid_at\n    order {\n      id\n      order_number\n      status\n    }\n  }\n}",
								"variables": "{\n  \"input\": {\n    \"order_id\": 1,\n    \"payment_method\": \"credit_card\"\n  }\n}"
							}
						},
						"url": {
							"raw": "{{base_url}}/graphql",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"graphql"
							]
						}
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		}
	]
}
